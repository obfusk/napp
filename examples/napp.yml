napp:                                                           # {{{1
  dirs:                                                         # {{{2
    # subdirectory of user(s) home directory in which apps reside
    apps: apps

    # log dir (see log_sudo)
    log: /var/log/napp

    # nginx config dir; relative to $NAPPCFG or absolute
    nginx: nginx.d

    # subdirectories of ~user/apps/$APP
    app:
      app: app
      cfg: cfg
      log: log
      run: run
                                                                # }}}2

  # main user
  user: napp

  # other users
  users: []
  # - foo
  # - bar
  # - baz

  # use sudo w/ napp-log to append to log file
  log_w_sudo: true
                                                                # }}}1

defaults:                                                       # {{{1
  app:
    vcs: git
    branch: master
  clojure:
    logdir: log
    public: public
  ruby:
    logdir: log
    public: public
  daemon:
    wait: 7
  nginx:
    validate_server_name: true
    max_body_size:      # nginx default
    proxy_buffering:    # nginx default
    ssl: false
                                                                # }}}1

commands:                                                       # {{{1
  # run/bootstrap/update command aliases
  aliases:
    UBERJAR:      lein uberjar
    JAR:          java -jar project.jar ${PORT}
    BUNDLE:       bundle install
    RACKUP:       SIGINT bundle exec rackup -E production -p ${PORT}
    PUMA_SOCK:    bundle exec puma -e production -b unix://${SOCKET}
    CUSTOM_BOOT:  ./_scripts/bootstrap
    CUSTOM_UPD:   ./_scripts/update
    RAILS_BOOT:   napp-helper-bootstrap-rails                   # TODO
    RAILS_UPD:    napp-helper-update-rails                      # TODO
  mongo:
  postgres:
                                                                # }}}1

# vim: set tw=70 sw=2 sts=2 et fdm=marker :
